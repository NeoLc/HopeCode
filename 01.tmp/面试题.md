#### 面试题
##### 面试的注意点：
面试官：
+ 绝对不会说，来一个应聘者，不考虑他的背景，就用固定的几道题去考察。
+ 我怎么面试，我一般前一天给我简历我先看简历，根据简历问候选人熟悉的东西，我觉得用自己的背景判断别人撒比，很撒比。
+ 工作经验最重要，没有工作经验就要靠基础知识了（例如：数据结构和算法）
+ 面试官是想看候选人是否匹配本职位，具体来讲，是衡量候选人有没有职位需求里的技术实践经验，当然实践经验越多越好。
##### 知乎
1. 快速排序（包括算法步骤、平均算法复杂度、最好和最坏的情形）
2. 写二分查找算法，比如求一个数的平方根
3. 链表，常见的面试题有写一个链表中删除一个节点的算法、单链表倒转、两个链表找相交的部分，这个一般必须得完全无误的情况下写出来；
4. 自己实现一些基础的函数，例如strcpy / memcpy / memmov / atoi，同样的道理，这些必须完全无误且高效地写出来，比如你的实现中有动态分配堆内存，那么这道题目就算答错。
5. 哈希表，对哈希表的细节要求很高，比如哈希表的冲突检测、哈希函数常用实现、算法复杂度；比如百度二面就让我写一个哈希表插入元素算法，元素类型是任意类型。
6. AVL 树和 B 树的概念、细节，比如会问mysql数据库的索引的实现原理，基本上就等于问你B树了。
7. 红黑树，这个基本上必问的一个数据结构，包括红黑树的概念、平均算法复杂度、最好最坏情况下的算法复杂度、、左右旋转、颜色变换。
8. 面试官常见的算法套路有：你熟悉 C++ 的 stl 吗？你说熟悉，ok，stl 的 map 用过吧？用过，ok，那map是如何实现的？红黑树，ok，那什么是红黑树？这样提问，红黑树就开始了
9. 基础的 C++ 问题，常见的有 C++ 的继承体系中 virtual 关键字的作用（如继承关系中析构函数为什么要申明成virtual函数，如果不申明为virtual会有什么影响)、
10. 在涉及到父子类时构造与析构函数的执行顺序、多重继承时类的成员列表在地址空间的排列；static 关键字的作用，static_cast / reinterpret_cast / dynamic_cast等几个转换符的使用场景;
11. 问的最多的就是虚表的布局，尤其是菱形继承(B 和 C 继承 A，D 继承 B 和 C)时每个对象的空间结构分布，比如问 D 有几份虚表，D 中 B 和 C 的成员空间排布。。
12. 如果你应聘的职位使用 C++开发，很多公司会问你一些 C++11的东西（或者问boost 库，基本上都一样）
13. auto 关键字、for-each 循环、右值及移动构造函数 + std::forward + std::move + stl 容器新增的 emplace_back() 方法、std::thread 库、std::chrono 库、智能指针系列（std::shared_ptr/std::unique_ptr/std::weak_ptr）
14. 智能指针的实现原理一定要知道，最好是自己实现过)、线程库 std::thread + 线程同步技术库std::mutex/std::condition_variable/std::lock_guard 等、lamda表达式、std::bind/std::function 库、
15. 其他的就是一些关键字的用法(override、final、delete)，还有就是一些细节如可以像 JAVA 一样在类成员变量定义处给出初始化值。
16. 网络通信问题，比如协议栈的层级关系，三次握手和四次挥手的【细节】，注意我说的是细节，比如 CLOSE_WAIT 和 TIME_WAIT 状态
17. bilibili 问了这样一个问题，你可以感受一下：A 与 B 建立了正常连接后，从未相互发过数据，这个时候 B 突然机器重启，问 A 此时的 tcp 状态处于什么状态？如何消除服务器程序中的这个状态？
18. 流量拥塞和控制机制、腾讯问过tcp和ip包头常见有哪些字段），东方财富网问了阻塞和非阻塞 socket 在 send、recv 函数上的行为表现，异步 connect 函数的写法，select 函数的用法，epoll 与 select 的区别，
19. 基本上只要问到 epoll，必问 epoll 的水平模式和边缘模式的区别
20. 一些 socket 选项的用法，nagle/keepalive/linger等选项的区别；tcp/udp 的区别和适用场景；
21. 通信协议如何设计避免粘包；http 协议的 get 和 post 方法的区别（问的比较深的会让你画出 http 协议的格式
22. 网络通信问题能搞的多清楚就可以搞的多清楚，最起码把tcp应用层的各种socket API的用法细节搞清楚。
23. 喜马拉雅听书问了 Linux 下 elf 文件的节结构，映射到进程地址空间后，分别对应哪些段
24. 全局变量、静态存储在进程地址空间的哪里；堆和栈的区别，栈的结构，栈的细节一点要搞的特别清楚，因为一些对技术要求比较高的公司会问的比较深入
25. 京东的一面是让我先写一个从 1 加到 100 的求和函数，然后让我写出这个函数的汇编代码
26. 如果你对栈的结构（如函数参数入栈顺序、函数局部变量在栈中的布局、栈帧指针和栈顶指针位置）不熟悉的话，这题目就无法答对了
27. 栈的问题，可能会以常见的函数调用方式来提问，常见的函数调用有如下 __cdecl/__stdcall/__thiscall/__fastcall 的区别，比如像 printf 这样具有不定参数的函数为什么不能使用 __stdcall；
28. 饿了么二面问了操作系统的保护模式实模式，中断向量表，linux下的CAS。
29. 还有就是进程和线程的联系与区别，问的最多的就是线程之间的一些同步技术，如互斥体、信号量、条件变量等(Windows 上还有事件、临界区等)，这些东西你必须熟悉到具体的 API 函数使用的层面上来，
30. 这类问题还可以引申为什么是死锁、如何避免死锁；进程之间通信的常用技术也需要掌握，常用的通信方式（Linux 下）有共享内存、匿名和具名管道、socket、消息队列等等，管道和 socket 是两个必须深入掌握的考察点
31. Linux 系统下可能还会问什么是 daemon 进程，如何产生 daemo 进程，什么是僵尸进程，僵尸进程如何产生和消除（bilibili 问过）。
32. 第四类就是一个使用过的开源技术，比如代表 nosql 技术的的 redis；网络库 libevent 等等
33. 数据库如 mysql 的一些东西。这个一般不做硬性要求，但是这里必须强调的就是 redis，熟练使用 redis 甚至研究过 redis 源码，现在一般是对做后台开发的技术硬性要求或者说不可缺少的部分
34. 基于 redis 的面试题既可以聊算法与数据结构，也可以聊网络框架等等一类东西
35. 我面试的公司中基本上百分之九十以上都问到了 redis，只是深浅不一而已，比如喜马拉雅问了 redis 的数据存储结构、rehash；bilibili 问了 redis 的事务与集群。
36. 只问一些做过的业务或者项目经验，这类公司他们招人其实对技术要求不高，只要你过往的项目与当前应聘职位匹配，可以过来直接上手干活就可以了
37. 大厂要刷题，国内外几乎无例外
38. vczh：写完代码了，要求他出test case，出完，让他说一下为什么跑完这个test case会让他对他的代码有信心。
39. TCP与UDP适用场景， epoll_event结构中epoll_data_t的fd与ptr使用场景，select可以检测网络异常吗
40. epoll的水平模式和边缘模式，收发缓冲区如何设计，gethostbyname阻塞与错误码，如何设计断线重连机制
41. 如何清除无效的死链，网络框架中定时器不同实现，http协议格式、head、get与post方法细节。

27. std::map 和 std::unordered_map 特性和各操作时间复杂度的
28. 有 (partial) template specialization 没听说过的
29. Nagle算法和tcp的拥塞控制。
30. 了解哪些linux内核的模块。
31. 阐释c++虚函数的实现。,C和C++内存分配问题。
32. 画出三次握手和四次挥手流程图。请阐释https建立连接过程。画出OSI和TCP/IP协议栈的对应关系。
33. 请阐释ARQ协议的原理和过程。请阐释滑动窗口协议原理和过程。
34. 进程通信方式有哪些？哪种效率最高？
35. Redis支持的数据类型？什么是Redis持久化？Redis有哪几种持久化方式？优缺点是什么？
36. redis通讯协议(RESP )，能解释下什么是RESP？有什么特点？
37. Redis 有哪些架构模式？讲讲各自的特点。
38. 红黑树、平衡树、Radix树、四叉树、八叉树、梅克尔树
39. 排序算法、一致性哈希算法、paxos算法、raft算法、椭圆曲线算法
40. 用数组存储超大数的问题。1到100之间的所有素数之和；队列的实现；选首领；字符串匹配问题
41. ping命令使用的是哪种报文？
42. C++基本的认识，问得比较多的是指针、多态（虚函数表、内存 layout等）、作用域、内存的管理等等
43. 数据结构我比较关注哈希、优先级队列等，算法则是字符串处理、简单的 DFS、BFS、动态规划都有
44. 系统的知识：进程、线程、协程、锁的使用、消息队列、共享内存、还有网络协议、epoll、select等。
45. socket和IO多路复用是网络编程的重点。
46. 十亿整数（随机生成，可重复）中前K最大的数
47. 十亿整数（随机生成，可重复）中出现频率最高的一千个
48. 排序算法当然是基础内容了，必须至少能快速写出，快排，建堆，和归并，每种算法的时间空间复杂度，最好最差平均情况
49. TCP重发机制，Nagle算法，TCP的拥塞控制使用的算法和具体过程，TCP的窗口滑动。
50. Ping和TraceRoute实现原理
51. 域名解析过程，ARP的机制，RARP的实现
52. 浏览器中输入一个URL发生什么，用到哪些协议？
53. 什么时候用多进程？什么时候用多线程？匿名管道与命名管道的区别
54. 共享文件映射mmap
55. 内存池的作用？STL里内存池如何实现？
56. 进程空间和内核空间对内存的管理不同？
57. 进程调度
58. 与CPU，内存，磁盘相关的命令(top，free, df, fdisk)
59. 网络相关的命令netstat，tcpdump等
60. 五种IO模型：阻塞IO，非阻塞IO，IO复用，信号驱动式IO，异步IO
61. select，poll，epoll的区别
62. 线程池，内存池 自己动手实现一遍
63. fork与vfork区别，exit()与_exit()区别
64. Linux是如何避免内存碎片的(伙伴算法、高速缓存Slab层)
65. STL里的迭代器模式，适配器模式，单例模式线程安全的写法
66. map_reduce原理 ，负载均衡，CDN。
67. vector的增长， map的实现，iterator invalidation相关的问题
68. inline的优劣，inline keyword的含义。
69. std::shared_ptr的实现。关键是reference count在哪里定义
70. unordered_map的原理。Hash table是如何实现的。
71. mutex在Linux系统下如何实现，一个lock操作的成本是什么
72. dynamic_cast是怎么实现的？这是难题。能有思路就说明有读过ABI了
73. Throw exception和return error code各自的优缺点
74. 如果用过 C++11，那么来解释一下 RValue Reference 是怎么回事？有什么好处？
75. 谈一下对乐观锁和悲观锁的认识

##### 公众号
1. C++ 虚函数这是面试初、中级 C ++ 职位一个概率95%以上的面试题。
	在有继承关系的父子类中，构建和析构一个子类对象时，父子构造函数和析构函数的执行顺序分别是怎样的？
	在有继承关系的类体系中，父类的构造函数和析构函数一定要申明为 virtual 吗？如果不申明为 virtual 会怎样？
	什么是 C++ 多态？C++ 多态的实现原理是什么？
	什么是虚函数？虚函数的实现原理是什么？
	什么是虚表？虚表的内存结构布局如何？虚表的第一项（或第二项）是什么？
	菱形继承（类D同时继承B和C，B和C又继承自A）体系下，虚表在各个类中的布局如何？如果类B和类C同时有一个成员变了m，m如何在D对象的内存地址上分布的？是否会相互覆盖？
2. 排序（常考的排序按频率考排序为：快速排序 > 冒泡排序 > 归并排序 > 桶排序）能分析出其算法复杂度、最好和最坏的情况下的复杂度，说出算法大致原理
3. 大多数面试官并不会直接问你二分查找，而是结合具体的场景，例如试官问了一个问题：如何从所有很多的ip地址中快速找个某个ip地址。
4. 琏表常见的操作一定要熟练写出来，如链表的查找、定位、反转、连接等等。还有一些经典的问题也经常被问到，如两个链表如何判断有环
5. 链表的问题一般不难，但是链表的问题存在非常多的“坑”，如很多人不注意边界检查、空链表、返回一个链表的函数应该返回链表的头指针等等。
6. 队列与栈,对于社会人士尤其是中高级岗位开发，会结合相关的问题问的比较多，例如让面试者利用队列写一个多线程下的生产者和消费者程序，全面考察的多线程的资源同步与竞态问题
7. 栈一般对于基础要求高的面试，会结合函数调用实现来问。即函数如何实现的，包括函数的调用的几种常见调用方式、参数的入栈顺序、内存栈在地址从高向低扩展、栈帧指针和栈顶指针的位置、函数内局部变量在栈中的内存分布、函数调用结束后，调用者和被调用者谁和如何清理栈等等
8. 基本上一场面试下来不考察红黑树基本上就会问哈希表，而且问题可浅可深
9. 最终考察 linux 下 malloc（下面的ptmalloc） 函数在频繁调用造成的内存碎片问题，以及开源方案解决方案 tcmalloc 和 jemalloc。
10. 面试高频的树是红黑树，也有一部分是B树（B+树）,大多数面试官只要能说出红黑树的概念、左旋右旋的方式、分析出查找和插入的平均算法复杂度和最好最坏时的算法复杂度，并不要写面试者写出具体代码实现
11. B树一般不会直接问，问的最多的形式是通过问 MySQL 索引实现原理
12. 图的问题就我个人面试从来没遇到过，不过据我某位哥哥所说，他在进三星电子之前有一道面试题就是深度优先和广度优先问题。
13. 其他的一些算法如A*寻路、霍夫曼编码也偶尔会在某一个领域的公司的面试中被问到
14. 实现atoi函数
15. 熟悉多线程编程”到底熟悉到什么程度呢？一般包括：知道何种场合下需要新建新的线程、线程如何创建和等待、线程与进程的关系、线程局部存储（TLS 或者叫 thread local）、多线程访问资源产生竞态的原因和解决方案等等、熟练使用所在操作系统平台提供的线程同步的各种原语。
16. 对于linux 开发者，你需要熟练使用 mutex、semphore、condition_variable、read-write-lock 等操作系统API。
17. 熟悉基本 SQL 操作，包括增删改查（insert、delete、update、select语句），排序 order，条件查询（where 子语句），限制查询结果数量（LIMIT语句）等
	稍微高级一点的 SQL 操作（如Group by，in，join，left join，多表联合查询，别名的使用，select 子语句等）
	索引的概念、索引的原理、索引的创建技巧
	数据库本身的操作，建库建表，数据的导入导出
	数据库用户权限控制（权限机制）
	MySQL的两种数据库引擎的区别，SQL 优化技巧
18. 初级岗位一般只会问一些基础网络通信原理（如三次握手和四次挥手）的socket 基础 API 的使用，客户端与服务器端网络通信的流程
19. 中级面试者一般会问一些稍微重难点问题，如 select 函数的用法，非阻塞 connect 函数的写法，epoll 的水平和边缘模式、阻塞socket与非阻塞socket的区别、send/recv函数的返回值情形、reuse_addr选项等等
20. 三年以上尤其是“号称”自己设计过服务器、看过开源网络通信库代码的面试者
	nagle算法；keepalive选项；Linger选项；对于某一端出现大量CLOSE_WAIT 或者 TIME_WAIT如何解决；
	通讯协议如何设计或如何解决数据包的粘包与分片问题；心跳机制如何设计；（可能不会直接问问题本身，如问如何检查死链）
	断线重连机制如何设计；对 IO Multiplexing 技术的理解；收发数据包正确的方式，收发缓冲区如何设计；
	优雅关闭；定时器如何设计；epoll 的实现原理。
21. 熟悉一种或几种内存数据库程序已经是面试后台开发的基本要求，而这当中以 redis 和 memcached 为最典型代表
22. 号称熟悉linux C++ 开发的面试者，不熟悉 GDB 调试基本上不是真正的熟悉 linux C++ 开发
23. 号称熟悉汇编或者反汇编，不熟悉 IDA 或者 OllyDbg，基本上也是名不符实的
24. 如果面试者能答出上面面试题中的C++基础问题和算法与数据结构题目（如 C++ 函数与hash冲突的解决、innodb索引原理，单向图最短路径，动态规划算法等），可以认为面试者是一个合格的初、中级开发者，薪资范围一般在6 ～ 12k
25. 如果面试者还能答出上述面试题中网络编程相关的或者多线程相关的问题（如socket函数select的缺陷，epoll模型，同步互斥，异步非阻塞，回调的概念等），可以认为面试者是个基础不错的中级开发者，薪资范围一般在14～22k之间。
26. 如果面试者还能回答出上述问题中关于redis、memcached和mq实现原理，说明面试者是一个有着不错项目经验并且对一些常用开源项目也有一定的理解，薪资可以给到22k +。
##### 牛客网
1. 怎么解决IPv4地址的不足（说了NAT）
2. 对虚拟内存的理解
3. 二叉树每个节点有一个权重，找出树中权值最大的路径（leetcode上有原题）
4. 阿里菜鸟：（手撕）实现auto_ptr
5. 给定2个字符串str1和str2，从str1中删除所有str2中的字符
6. 实现一个html解析器，根据标签构造一颗树（好像考察重点是状态机）
7. 自旋锁和互斥锁的区别、使用场景
8. 除了打开锁，还有什么方法优化性能（说了类似map-reduce的思想，开多个线程每个线程处理一部分数据，最后归并
9. 说说你对文件系统的理解，说说内存管理，求二叉树2个节点的最近公共祖先（剑指offer最后一题）
10. top K问题，问了如何最快找到，答的是开多个线程，分别找出局部top K,然后找出全局top K。
11. TCP的TIME_WAIT状态，怎么解决死锁（从理论上答了死锁预防、避免避免、死锁检测的一些方法），手写代码：有序链表合并
12. LRU cache（leetcode原题），手写代码：洗牌算法
13. 给一个int形数组，从里面取3个数能构成三角形，并且该三角形周长最长。
14. 用栈实现队列，leetcode简单程度，
15. http是怎样保持登录状态的，https和http的区别，为什么我们需要端口
16. 线程可以共享进程的哪一部分内存。
17. 智能指针，如果循环引用了应该怎么办。
18. 右值引用，leetcode 奇偶链表，写了C++生产者，消费者模型，写一个多态，分析子类的内存模型
19. 不用花太多时间去研究偏难的钻牛角尖的题，如leetcode上hard难度的题型，手撕红黑树等，只要了解其原理和算法复杂度即可，不会让你现场去撕出来的
20. 三次握手和四次挥手的过程和为何如此设计的原因
21. 写一下中序遍历的非递归写法
22. 进程间通信的方法，还有它和socket通信的相同和不同点在哪儿，使用时机是何时？
23. malloc和alloc的区别
24. 现场写代码，翻转句子中的单词（如hello world -- > ollrh dlrow）
25. 讲一下malloc的整过程
26. 讲一下如何设计内存管理系统
27. 如何进行内存碎片的管理？
28. 智能指针的实现方法

#### 参考
[程序员面试，面试官更注重代码量、项目经验还是操作系统、数据结构这种基础课程？两者比例是五五开还是多少？](https://www.zhihu.com/question/23447320/answer/24657827)
[从“成都-go-戒炸鸡”的面试题开始说起](https://mp.weixin.qq.com/s/Dg_iWs6ckR1VUPEvoNcPbA)
